<div class="container my-5" *ngIf="!loading && receta">
  <div class="card p-4 shadow">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div class="d-flex align-items-center mb-2">
        <img
          *ngIf="receta.user?.avatar"
          [src]="receta.user.avatar"
          class="rounded-circle me-2"
          width="32"
          height="32"
          alt="Avatar"
        />
        <strong>Publicado por {{ receta.user?.name || "Usuario" }}</strong>
      </div>

      <button class="btn btn-outline-warning" (click)="toggleFavorito()">
        {{ esFavorito ? "★ Quitar de favoritos" : "☆ Añadir a favoritos" }}
      </button>
    </div>
    <h2 class="mb-3">{{ receta.title }}</h2>
    <p class="mb-3">{{ receta.description }}</p>
    <hr />
    <div>
      <h4 class="mt-4">Pasos</h4>
      <ul>
        <li *ngFor="let paso of receta.steps.split('\n')">
          {{ paso }}
        </li>
      </ul>
    </div>
    <hr />
    <div>
      <app-comentarios [recetaId]="receta.id"></app-comentarios>
    </div>
  </div>
</div>
